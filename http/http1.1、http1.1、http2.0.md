# http1.1 和 http1.0 的区别 http1.1 和 http2.0的区别

## http1.0 和 http1.1的区别

- 连接方式: 在1.0中每次发送请求都需要建立一次连接等连接发送结束之后就断开连接这样每次建立建立连接消耗性能大而且效率低，在1.1中新增了长连接的方式
建立的TCP连接和多个请求复用。
- 带宽优化: 在1.0中存在着带宽浪费的现象，比如我们只需要数据的一部分而服务器只能把整个对象传过来并不支持断点续传。在1.1header引入了rang头域它允许只请求资源的一部分返回206状态码这样开发者可以更充分的利用带宽
- 优化缓存: 在1.0http中缓存主要使用header字段是有expires 和 if-modified-since来做缓存判断标准。1.1中引入了更多的缓存策略 canche-control max-age Etag If-none-match等。
- http1.0中新增了很多的请求方法 如 put options heade
- http1.1新增host的字段，用来指定服务器的域名。在1.0中认为每台服务器都绑定一个唯一的ip地址。因此请求中并没有标明主机名。但是随着虚拟主机技术的不断发展一台物理服务器上存在多个虚拟主机共享一个IP地址。因此有了host字段这样就可以将同一台服务器上的不同网站。

## http1.1和http2.0的区别

- 多路复用: 在http1.1中有长连接的方式多个请求共享一个TCP连接 但是请求只能继发的发送 这样就存在队头阻塞的问题 在2.0中仍然使用长连接但是服务端和客户端都可以同时的发送和回应多个请求而不用一一发送这就避免了“队头阻塞问题”
- 数据流: 在http2.0中引入了数据流的概念。因为2.0中请求不按照顺序发送的所以相邻连续的数据包可能是不同的请求的数据包。所以每一个数据包打上唯一的标识用来指定当前数据包属于哪一个请求。在2.0中每一个请求的所有数据包称之为数据流。每一个数据流都有一个唯一的编号。数据包发送时标识数据流ID用来表示属于哪一个数据流。
- 压缩头部: http2.0实现头部压缩。在1.1中因为http是不带状态的协议 每次都必须要携带所有请求信息，所以请求的很多信息都是重复的 比如cookie和user-agent一模一样的内容每次都要携带会造成带宽的浪费。http2.0对这一点做了优化可以使用gzip来进行对头压缩再发送。另一方面客户端和服务端都会维护一张信息所有字段都存在这张表中生成一个索引，以后就不用发送字段二只用发送索引就可以了 降低头部数据量提高的速度。
- 服务器推送: http2.0允许服务器未经客户端请求主动向客户端推送数据。使用服务端推送的前提是推送客户端必要的资源这样可以相对的减少延迟时间。这里需要注意的是2.0中推送的的是静态字段和websocket 以及SSE等方式向客户端发送实时数据的方式是不同的。